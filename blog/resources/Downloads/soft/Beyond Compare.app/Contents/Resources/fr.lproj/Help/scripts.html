<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- saved from url=(0029)http://www.helpandmanual.com/ -->
<head>
   <title>Scripts</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="automatiser Beyond Compare,traitement par fichier de commandes,scripts,scripts vue d'ensemble" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
<script type="text/javascript" src="helpman_topicinit.js"></script>
<!-- Redirect browser to frame page if page is not in the content frame. -->
<script type="text/javascript">
<!--
if (location.search.lastIndexOf("toc=0")<=0) {
  if (parent.frames.length==0) { parent.location.href="index.html?scripts.html"; }
  else { parent.quicksync('a2.20'); }
}
//-->
</script>
<script type="text/javascript" src="highlight.js"></script></head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;" onload="highlight();">
<div id="hmpopupDiv" style="visibility:hidden; position:absolute; z-index:1000; "></div>


<table width="100%" border="0" cellspacing="0" cellpadding="5" 
       style="margin: 0px; background: #9D0909 url(red-bg.jpg) 0px 0px repeat-x;">
<!-- <table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#B01213"> -->
  <tr valign="middle">
<!--    <td style="width: 10px">&nbsp;</td> -->
    <td align="left">
      <p class="p_Heading1"><span class="f_Heading1">Scripts</span></p>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="moving_bc_to_another_computer.html"
        onmouseover="document.images.prev.src='prev-hot.png'" 
        onmouseout="document.images.prev.src='prev.png'"
        ><img name=prev src="prev.png" border=0 alt="Previous"
        ></a><a href="using_bc.html"
        onmouseover="document.images.top.src='top-hot.png'" 
        onmouseout="document.images.top.src='top.png'"><img name=top src="top.png" border=0 alt="Up"
        ></a><a href="sample_scripts.html"
        onmouseover="document.images.next.src='next-hot.png'" 
        onmouseout="document.images.next.src='next.png'"><img name=next src="next.png" border=0 alt="Next"
        ></a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p>Beyond Compare fournit une fonctionnalité de traitement par script qui vous permet d'automatiser des tâches routinières.  Un script est un fichier texte simple contenant une liste de commandes qui peuvent contrôler le programme et exécuter automatiquement des opérations sur des fichiers ou produire des rapports.  Voir <a href="scripting_reference.html">Référence de script</a> pour une liste de toutes les commandes de script.</p>
<p>Les scripts s'exécutent sans afficher l'interface utilisateur habituelle de Beyond Compare, mais peut requérir une saisie pour certaines confirmations.  Les scripts manipulent essentiellement une session invisible de dossiers : des opérations de fichier requièrent des sélections, l'affichage peut être limité avec des filtres, et des dossiers peuvent être "développés" pour parcourir les sous-dossiers récursivement.  Tout argument de type nom de dossier peut être un dossier de votre système, du réseau ou d'un service distant, ou bien le nom d'un fichier archive tel que .zip, .cab, ou un fichier Instantané de Beyond Compare.</p>
<p class="p_Subtitle"><span class="f_Subtitle">Exécution d'un script</span></p>
<p>Spécifiez le nom du fichier du script sur la ligne de commande en le précédent par le symbole "@", tel que dans :</p>
<p class="p_IndentedCode"><img src="windows.jpg" width="16" height="16" border="0" alt=""><span class="f_CourierFixed">BCompare.exe @"C:\</span><span class="f_CourierFixed">Mon Dossier</span><span class="f_CourierFixed">\</span><span class="f_CourierFixed">Mon Script</span><span class="f_CourierFixed">.txt"</span></p>
<p class="p_IndentedCode"><img src="mac.jpg" width="16" height="16" border="0" alt=""><img src="linux.jpg" width="16" height="16" border="0" alt=""><span class="f_CourierFixed">bcompare @"</span><span class="f_CourierFixed">Mon Dossier</span><span class="f_CourierFixed">/</span><span class="f_CourierFixed">Mon Script</span><span class="f_CourierFixed">"</span></p>
<p class="p_IndentedCode"><span class="f_IndentedCode">&nbsp;</span></p>
<p class="p_Subtitle"><span class="f_Subtitle">Créer un script</span></p>
<p>Les scripts sont traités ligne par ligne, avec un commande unique par ligne.  Les scripts ne sont pas sensibles à la casse des caractères, les lignes blanches et les commentaires (n'importe quoi après un "#") sont ignorés.  Les arguments sont séparés par des espaces.  Pour inclure un espace dans un argument, entourez l'argument avec des guillemets (").  Pour continuer une longue commande sur une seconde (ou troisième) ligne, ajouter une esperluette (&amp;, "et" commercial) à la fin de chaque ligne sauf pour la dernière.</p>
<p>Un paramètre indiqué sur la ligne de commande peut être référencé en insérant le caractère pourcent (%) suivi par un chiffre de 1 à 9.  Le nom du script et les commutateurs de la ligne de commande commençant par / ne sont pas inclus dans la liste 1-9.  Avec cette ligne de commande :</p>
<p class="p_IndentedCode"><img src="windows.jpg" width="16" height="16" border="0" alt=""><span class="f_CourierFixed">BCompare.exe @"</span><span class="f_CourierFixed">Mon Script</span><span class="f_CourierFixed">.txt" /silent "</span><span class="f_CourierFixed">Ma Session</span><span class="f_CourierFixed">"</span></p>
<p class="p_IndentedCode"><span class="f_IndentedCode">&nbsp;</span></p>
<p>la session nommée "Ma Session" peut être chargée en ajoutant ce qui suit au script :</p>
<p class="p_IndentedCode"><span class="f_CourierFixed">load "%1"</span></p>
<p class="p_IndentedCode"><span class="f_IndentedCode">&nbsp;</span></p>
<p>Une variable d'environnement peut être insérée en entourant son nom du caractère pourcent.  La casse de caractère de la variable d'environnement doit être correcte.  Le dossier temporaire du système peut être chargé en ajoutant ce qui suit au script :</p>
<p class="p_IndentedCode"><span class="f_CourierFixed">load "%TMP%"</span></p>
<p class="p_IndentedCode"><span class="f_IndentedCode">&nbsp;</span></p>
<p>Il y a également plusieurs variables dynamiques que Beyond Compare peut remplir à chaque ligne de script.  La variable %date% correspond à la date actuelle au format aaaa-mm-jj.  Le format de la variable %time% dépend des paramètres régionaux de votre ordinateur.  La variable %fn_time% fournit le temps en hh-mm-ss, ce qui peut être utile pour les noms de fichier.</p>
<p class="p_Subtitle"><span class="f_Subtitle">Commutateurs de ligne de commande de script</span></p>
<p><img src="mac.jpg" width="16" height="16" border="0" alt=""><span class="f_Subtitle"> <img src="linux.jpg" width="16" height="16" border="0" alt=""> Note  </span>Les utilisateurs de Mac et de Linux doivent préfixer les commutateurs avec "-" au lieu de "/".</p>
<p>Les commutateurs de ligne de commande qui affectent ls scripts sont <span class="f_CourierFixed">/closescript</span>, <span class="f_CourierFixed">/leftreadonly</span>, <span class="f_CourierFixed">/readonly</span>, <span class="f_CourierFixed">/rightreadonly</span> et <span class="f_CourierFixed">/silent</span>.  Normalement, le traitement des scripts ajoute une entrée dans la Barre des tâches et affiche une Fenêtre d'état du script détaillant sa progression et toute erreur.  Le commutateur <span class="f_CourierFixed">/silent</span> contourne l'entrée dans la Barre des tâches et la Fenêtre d'état du script, autorisant Beyond Compare à exécuter le script invisiblement.</p>
<p class="p_Subtitle"><span class="f_Subtitle">Options de script</span></p>
<p>Pour changer les options de traitement des scripts, sélectionnez <span class="f_Command">Outils &gt; Options</span> <img src="options.jpg" width="16" height="16" border="0" alt="">, aller sur la page <span class="f_Command">Astuces</span>, et ensuite faites défiler pour trouver <span class="f_Command">Scripts</span>.  Cochez l'option <span class="f_Command">Bip quand terminé</span> pour que Beyond Compare vous alerte lorsqu'il termine le traitement du script.  Ce bip peut vous avertir pour tester et fermer la fenêtre d'état de script.  <span class="f_Command">Fermer quand terminé</span> fait que Beyond Compare ferme automatiquement sa fenêtre d'état du script lorsqu'il achève le traitement du script.  Lorsqu'utilisé avec <span class="f_Command">Bip quand terminé</span>, le bip vous dira que le traitement est terminé.</p>
<p>Il y a aussi un endroit pour désigner un <span class="f_Command">Dossier de scripts partagés</span>.  Lorsque vous donnez comme argument un nom de script sur la ligne de commande sans aucune indication de chemin, et qu'il n'y a pas de fichier avec ce nom dans le dossier en cours, Beyond Compare regardera dans le <span class="f_Command">Dossier de scripts partagés</span> pour ce script.</p>

</td></tr></table>

</body>
</html>
